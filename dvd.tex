%https://github.com/DVDTSB/dvd.tex/edit/main/dvd.tex
%██████╗░██╗░░░██╗██████╗░░░░████████╗███████╗██╗░░██╗
%██╔══██╗██║░░░██║██╔══██╗░░░╚══██╔══╝██╔════╝╚██╗██╔╝
%██║░░██║╚██╗░██╔╝██║░░██║░░░░░░██║░░░█████╗░░░╚███╔╝░
%██║░░██║░╚████╔╝░██║░░██║░░░░░░██║░░░██╔══╝░░░██╔██╗░
%██████╔╝░░╚██╔╝░░██████╔╝██╗░░░██║░░░███████╗██╔╝╚██╗
%╚═════╝░░░░╚═╝░░░╚═════╝░╚═╝░░░╚═╝░░░╚══════╝╚═╝░░╚═╝                                          
%https://github.com/DVDTSB/dvd.tex/dvd.tex
%Boost Software License - Version 1.0 - August 17th, 2003

%Copyright (c) 2023 DVDTSB [DVDTSB at github.com/DVDTSB]

%Permission is hereby granted, free of charge, to any person or organization
%obtaining a copy of the software and accompanying documentation covered by
%this license (the "Software") to use, reproduce, display, distribute,
%execute, and transmit the Software, and to prepare derivative works of the
%Software, and to permit third-parties to whom the Software is furnished to
%do so, all subject to the following:

%The copyright notices in the Software and this entire statement, including
%the above license grant, this restriction and the following disclaimer,
%must be included in all copies of the Software, in whole or in part, and
%all derivative works of the Software, unless such copies or derivative
%works are solely in the form of machine-executable object code generated by
%a source language processor.

%THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
%IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
%FITNESS FOR A PARTICULAR PURPOSE, TITLE AND NON-INFRINGEMENT. IN NO EVENT
%SHALL THE COPYRIGHT HOLDERS OR ANYONE DISTRIBUTING THE SOFTWARE BE LIABLE
%FOR ANY DAMAGES OR OTHER LIABILITY, WHETHER IN CONTRACT, TORT OR OTHERWISE,
%ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
%DEALINGS IN THE SOFTWARE.

%Citations:
%     evan.sty || https://github.com/vEnhance/dotfiles/blob/main/texmf/tex/latex/evan/evan.sty


% ░█▄█░▄▀▄░█░░▒█░░░▀█▀░▄▀▄░░░█▒█░▄▀▀▒██▀
% ▒█▒█░▀▄▀░▀▄▀▄▀▒░░▒█▒░▀▄▀▒░░▀▄█▒▄██░█▄▄

%   add the wanted file to your work folder
%   add \input{tex/preamble} to your main.tex file
%   also read    https://github.com/DVDTSB/dvd.tex/instructions.md   for more info

\usepackage{amsmath,amssymb,amsthm}
\usepackage{mathrsfs}
\usepackage[usenames,svgnames,dvipsnames,x11names ]{xcolor}
\usepackage{textcomp}
\usepackage{enumerate}
\usepackage[textsize=scriptsize,shadow]{todonotes}
\usepackage{mathtools}
\usepackage{microtype}
\usepackage[normalem]{ulem}
\usepackage{stmaryrd}
\usepackage{wasysym}
\usepackage{multirow}
\usepackage{prerex}
\usepackage{hyperref}
\usepackage[nameinlink]{cleveref}
\usepackage{float}
\hypersetup{
    colorlinks,
    linkcolor={DodgerBlue3},
    citecolor={SpringGreen!50!black},
    urlcolor={blue!80!black}
}


\usepackage[headsepline]{scrlayer-scrpage}
\renewcommand{\headfont}{}
\addtolength{\textheight}{3.14cm}
\setlength{\footskip}{0.5in}
\setlength{\headsep}{10pt}

\newcommand{\cyc}{\sum_{\text{cyc}}}
\newcommand{\sym}{\sum_{\text{sym}}}

\def\shortdate{\leavevmode\hbox{\the\year-\twodigits\month-\twodigits\day}}
\def\twodigits#1{\ifnum#1<10 0\fi\the#1}
\automark[chapter]{chapter}
\makeatletter
\rohead{}
\rehead{}
\lehead{}
\lohead{}
\chead{\textbf{\sffamily \@title}, de \emph{\@author}}
\rofoot{}
\refoot{}
\lefoot{}
\lofoot{}
\cfoot{\pagemark}
\makeatother
\colorlet{everything}{DodgerBlue2}

%%fakesection Fancy section and chapter heads

\renewcommand*{\sectionformat}
{\color{everything}\S\thesection\autodot\enskip}

\renewcommand*{\subsectionformat}{\color{everything}\S\thesubsection\autodot\enskip}
\renewcommand{\thesubsection}{\thesection.\roman{subsection}}


\renewcommand*\chapterpagestyle{scrheadings}

\addtokomafont{chapterprefix}{\raggedleft}
\RedeclareSectionCommand[beforeskip=0.5em]{chapter}
\renewcommand*{\chapterformat}{%
\mbox{\scalebox{1.5}{\chapappifchapterprefix{\nobreakspace}}%
\scalebox{2.718}{\color{everything}\thechapter\autodot}\enskip}}

\addtokomafont{partprefix}{\rmfamily}
\renewcommand*{\partformat}{\color{everything}\scalebox{2.5}{\thepart}}

\usepackage{thmtools}
\usepackage[framemethod=TikZ]{mdframed}
\usetikzlibrary{shadows}
\theoremstyle{definition}


\mdfdefinestyle{mdbluebox}{%
	default,  
        roundcorner= 3pt,
	linewidth=1.5pt,
	skipabove=12pt,
	innerbottommargin=9pt,
	skipbelow=2pt,
	nobreak=true,
	linecolor=DodgerBlue3,
	backgroundcolor=DodgerBlue1!5,
 shadow=true,
shadowsize=6pt,
}

\mdfdefinestyle{mdimp}{%
    default, roundcorner = 3pt,
	linewidth=1.5pt,
	skipabove=12pt,
	innerbottommargin=9pt,
	skipbelow=2pt,
	nobreak=true,
	linecolor=Azure4,
        backgroundcolor=Azure3!10,
 shadow=true,
shadowsize=5pt,
}

\declaretheoremstyle[
    mdframed={style=mdimp},
    headpunct={}
]{thmimp}


\mdfdefinestyle{mdorangebox}{%
    default, roundcorner = 2pt,
	linewidth=1.5pt,
	skipabove=12pt,
	frametitleaboveskip=5pt,
	frametitlebelowskip=0pt,
	skipbelow=2pt,
	frametitlefont=\bfseries,
	innertopmargin=4pt,
	innerbottommargin=8pt,
	nobreak=true,
	linecolor=Coral3,
	backgroundcolor=Coral1!5,
 shadow=true,
shadowsize=5pt,
}

\mdfdefinestyle{mdproof}{%
    default, roundcorner = 1pt,
	skipabove=8pt,
	linewidth=2pt,
	rightline=false,
	leftline=true,
	topline=false,
	bottomline=false,
	linecolor=CadetBlue3,
    backgroundcolor=CadetBlue1!10
}


\mdfdefinestyle{mdgreenbox}{%
    default, roundcorner = 1pt,
	skipabove=8pt,
	linewidth=2pt,
	rightline=false,
	leftline=true,
	topline=false,
	bottomline=false,
	linecolor=SpringGreen3,
    backgroundcolor=SpringGreen1!5
}
\mdfdefinestyle{mdredbox}{%
    default, roundcorner = 1pt,
	skipabove=8pt,
	linewidth=2pt,
	rightline=false,
	leftline=true,
	topline=false,
	bottomline=false,
	linecolor=Red3,
    backgroundcolor=Red1!5
}
\mdfdefinestyle{mdlimebox}{%
    default, roundcorner = 1pt,
	skipabove=8pt,
	linewidth=2pt,
	rightline=false,
	leftline=true,
	topline=false,
	bottomline=false,
	linecolor=Chartreuse3,
    backgroundcolor=Chartreuse1!5
}


\mdfdefinestyle{mdgruebox}{%
    default, roundcorner = 1pt,
	skipabove=8pt,
	linewidth=2pt,
	rightline=false,
	leftline=true,
	topline=false,
	bottomline=false,
	linecolor=Turquoise3,
	backgroundcolor=Turquoise1!5,
}

\mdfdefinestyle{mdcyanbox}{%
    default, roundcorner = 1pt,
	skipabove=8pt,
	linewidth=2pt,
	rightline=false,
	leftline=true,
	topline=false,
	bottomline=false,
	linecolor=DeepSkyBlue3,
	backgroundcolor=DeepSkyBlue1!5,
}



\mdfdefinestyle{mdblackbox}{%
    default, roundcorner = 3pt,
	skipabove=8pt,
	linewidth=3pt,
	rightline=false,
	leftline=true,
	topline=false,
	bottomline=false,
	linecolor=black,
	backgroundcolor=Thistle4!5,
}



\declaretheoremstyle[
	headfont=\sffamily\bfseries\color{DodgerBlue3!80!black!},
    bodyfont=\color{DodgerBlue!30!black!},
	mdframed={style=mdbluebox},
	headpunct={.\\[3pt]},
	postheadspace={0pt}
]{thmbluebox}

\declaretheoremstyle[
	headfont=\sffamily\bfseries\color{DodgerBlue3!80!black!},
    notefont=\sffamily\bfseries\color{DodgerBlue3!80!black!},
    bodyfont=\color{DodgerBlue!30!black!},
	mdframed={style=mdbluebox},
	headpunct={\\},
	notebraces={}{},
    numbered=no,
    name={},
    refname = \NOTE,
    headformat=\NOTE,
    headindent =-\fontdimen2\font,
]{thmbluebox*}

\declaretheoremstyle[
	headfont=\bfseries\sffamily\color{Coral3!80!black!},
    bodyfont=\color{Coral!30!black!},
	mdframed={style=mdorangebox},
	headpunct={.\\[3pt]},
	postheadspace={0pt},
]{thmorangebox}

\declaretheoremstyle[
	headfont=\bfseries\sffamily\color{Coral3!80!black!},
 notefont=\bfseries\sffamily\color{Coral3!80!black!},
    bodyfont=\color{Coral!30!black!},
	mdframed={style=mdorangebox},
	headpunct={\\},
	notebraces={}{},
    numbered=no,
    name={},
    refname = \NOTE,
    headformat=\NOTE,
    headindent =-\fontdimen2\font,
]{thmorangebox*}


\declaretheoremstyle[
    headfont=\bfseries\sffamily\color{DeepSkyBlue3!80!black},
	bodyfont=\color{DeepSkyBlue!30!black!},
	spaceabove=2pt,
	spacebelow=1pt,
	mdframed={style=mdcyanbox},
]{thmcyanbox}

\declaretheoremstyle[
    headfont=\bfseries\sffamily\color{DeepSkyBlue3!80!black},
    notefont=\bfseries\sffamily\color{DeepSkyBlue3!80!black},
	bodyfont=\color{DeepSkyBlue!30!black!},
	spaceabove=2pt,
	spacebelow=1pt,
	mdframed={style=mdcyanbox},
    notebraces={}{},
    numbered=no,
    name={},
    refname = \NOTE,
    headformat=\NOTE,
    headindent =-\fontdimen2\font,
]{thmcyanbox*}

\declaretheoremstyle[
    headfont=\bfseries\sffamily\color{Turquoise4},
	bodyfont=\color{Turquoise!30!black!},
	spaceabove=2pt,
	spacebelow=1pt,
	mdframed={style=mdgruebox},
]{thmgruebox}

\declaretheoremstyle[
    headfont=\bfseries\sffamily\color{Turquoise4},
    notefont=\bfseries\sffamily\color{Turquoise4},
	bodyfont=\color{Turquoise!30!black!},
	spaceabove=2pt,
	spacebelow=1pt,
	mdframed={style=mdgruebox},
    notebraces={}{},
    numbered=no,
    name={},
    refname = \NOTE,
    headformat=\NOTE,
    headindent =-\fontdimen2\font,
]{thmgruebox*}



\declaretheoremstyle[
    headfont=\bfseries\sffamily\color{Red3!80!black},
	bodyfont=\color{Red!30!black!},
	spaceabove=2pt,
	spacebelow=1pt,
	mdframed={style=mdredbox},
]{thmredbox}

\declaretheoremstyle[
    headfont=\bfseries\sffamily\color{Red3!80!black},
    notefont=\bfseries\sffamily\color{Red3!80!black},
	bodyfont=\color{Red!30!black!},
	spaceabove=2pt,
	spacebelow=1pt,
	mdframed={style=mdredbox},
    notebraces={}{},
    numbered=no,
    name={},
    refname = \NOTE,
    headformat=\NOTE,
    headindent =-\fontdimen2\font,
]{thmredbox*}

\declaretheoremstyle[
    headfont=\bfseries\sffamily\color{Chartreuse3!80!black},
	bodyfont=\color{Chartreuse!30!black!},
	spaceabove=2pt,
	spacebelow=1pt,
	mdframed={style=mdlimebox},
]{thmlimebox}

\declaretheoremstyle[
    headfont=\bfseries\sffamily\color{Chartreuse3!80!black},
    notefont=\bfseries\sffamily\color{Chartreuse3!80!black},
	bodyfont=\color{Chartreuse!30!black!},
	spaceabove=2pt,
	spacebelow=1pt,
	mdframed={style=mdlimebox},
    notebraces={}{},
    numbered=no,
    name={},
    refname = \NOTE,
    headformat=\NOTE,
    headindent =-\fontdimen2\font,
]{thmlimebox*}

\declaretheoremstyle[
    headfont=\bfseries\sffamily\color{SpringGreen4},
	bodyfont=\color{SpringGreen!30!black!},
	spaceabove=2pt,
	spacebelow=1pt,
	mdframed={style=mdgreenbox},
]{thmgreenbox}

\declaretheoremstyle[
    headfont=\bfseries\sffamily\color{SpringGreen4},
    notefont=\bfseries\sffamily\color{SpringGreen4},
	bodyfont=\color{SpringGreen!30!black!},
	spaceabove=2pt,
	spacebelow=1pt,
	mdframed={style=mdgreenbox},
    notebraces={}{},
    numbered=no,
    name={},
    refname = \NOTE,
    headformat=\NOTE,
    headindent =-\fontdimen2\font,
]{thmgreenbox*}


\declaretheoremstyle[
	headfont=\bfseries\sffamily\color{black},
	bodyfont=\color{black},
	spaceabove=0pt,
	spacebelow=0pt,
	mdframed={style=mdblackbox}
]{thmblackbox}

\declaretheoremstyle[
	headfont=\bfseries\sffamily\color{black},
    notefont=\bfseries\sffamily\color{black},
	bodyfont=\color{black},
	spaceabove=0pt,
	spacebelow=0pt,
	mdframed={style=mdblackbox},
    notebraces={}{},
    numbered=no,
    name={},
    refname = \NOTE,
    headformat=\NOTE,
    headindent =-\fontdimen2\font,
]{thmblackbox*}

\declaretheoremstyle[
    headfont=\bfseries\sffamily\color{black},
    bodyfont=\color{black},
]{solution}


%%%%%%%  AICI PUI parent=section/chapter sau orice nu imi pasa

\makeatletter
\newenvironment{prf}[1][\proofname]{
\begin{mdframed}[style=mdproof]
\par
  \pushQED{\qed}%
  \normalfont \topsep6\p@\@plus6\p@\relax
  \trivlist
  \item[\hskip\labelsep
            \color{CadetBlue!70!black!}\sffamily\bfseries
    #1\@addpunct{.}]\ignorespaces
}{%

  \popQED\endtrivlist\@endpefalse
  \end{mdframed}
}

\renewenvironment{proof}[1][\proofname]{
\par
  \pushQED{\qed}%
  \normalfont \topsep6\p@\@plus6\p@\relax
  \trivlist
  \item[\hskip\labelsep
            \sffamily\bfseries
    #1\@addpunct{.}]\ignorespaces
}{%

  \popQED\endtrivlist\@endpefalse
}
\makeatother

\declaretheorem[style=thmimp,numbered=no,name=]{important}
\declaretheorem[%
style=thmbluebox,name=Teorema]{theorem}
\declaretheorem[style=thmbluebox,name=Lema]{lemma}
\declaretheorem[style=thmbluebox,name=Corolar]{corollary}

\declaretheorem[style=thmbluebox*,name=]{theorem**}

\declaretheorem[style=thmbluebox,name=Teorema, numbered = no]{theorem*}
\declaretheorem[style=thmbluebox,name=Lema, numbered = no]{lemma*}
\declaretheorem[style=thmbluebox,name=Corolar, numbered = no]{corollary*}

\declaretheorem[style=thmorangebox,name=Exemplu]{example}
\declaretheorem[style=thmorangebox,name=Problema]{problem}

\declaretheorem[style=thmorangebox*,name=]{example**}
\declaretheorem[style=thmorangebox*,name=]{problem**}


\declaretheorem[style=thmorangebox,name=Exemplu,numbered = no]{example*}
\declaretheorem[style=thmorangebox,name=Problema,numbered = no]{problem*}

\declaretheorem[name=Definitie,style=thmgreenbox]{definition}

\declaretheorem[style=thmgreenbox*,name=]{defintion**}

\declaretheorem[name=Definitie,style=thmgreenbox,numbered = no]{definition*}

\declaretheorem[name=Greseala,style=thmredbox]{mistake}

\declaretheorem[style=thmredbox*,name=]{mistake**}

\declaretheorem[name=Greseala,style=thmredbox,numbered = no]{mistake*}

\declaretheorem[name=Indiciu,style=thmlimebox]{hint}

\declaretheorem[style=thmlimebox*,name=]{hint**}

\declaretheorem[name=Indiciu,style=thmlimebox,numbered = no]{hint*}

\declaretheorem[name=Proprietate,style=thmcyanbox]{property}

\declaretheorem[style=thmcyanbox*,name=]{property**}

\declaretheorem[name=Proprietate,style=thmcyanbox,numbered = no]{property*}

\declaretheorem[name=Observatie,style=thmgruebox]{observation}

\declaretheorem[style=thmgruebox*,name=]{observation**}

\declaretheorem[name=Observatie,style=thmgruebox,numbered = no]{observation*}

\declaretheorem[name=Exercitiu,style=thmblackbox]{exercise}

\declaretheorem[style=thmblackbox*,name=]{exercise**}

\declaretheorem[name=Exercitiu,style=thmblackbox,numbered = no]{exercise*}

%%fakesection Table of contents
% First add ToC to ToC
\makeatletter
\usepackage{etoolbox}
\pretocmd{\tableofcontents}{%
  \if@openright\cleardoublepage\else\clearpage\fi
  \pdfbookmark[0]{\contentsname}{toc}%
}{}{}%
\makeatother
\setcounter{tocdepth}{1}
\RedeclareSectionCommand[tocnumwidth=4.2em]{part}
\RedeclareSectionCommand[tocnumwidth=4.2em]{chapter}
\RedeclareSectionCommand[tocnumwidth=2.8em]{section}


%%fakesection Bibliography
\usepackage[backend=biber,style=alphabetic]{biblatex}
\DeclareLabelalphaTemplate{
	\labelelement{
		\field[final]{shorthand}
		\field{label}
		\field[strwidth=2,strside=left]{labelname}
	}
	\labelelement{
		\field[strwidth=2,strside=right]{year}
	}
}
\DeclareFieldFormat{labelalpha}{\textbf{\scriptsize #1}}
\addbibresource{references.bib}
\addbibresource{images.bib}

%%fakesection Mini ToC
\usepackage[tight]{minitoc}
\mtcsetfont{parttoc}{chapter}{\sffamily\bfseries}
\mtcsetfont{parttoc}{section}{\footnotesize\rmfamily\upshape\mdseries}
\mtcsetfont{parttoc}{subsection}{\footnotesize\rmfamily\upshape\mdseries}
%\mtcsetdepth{parttoc}{1}
\setcounter{parttocdepth}{1}
\renewcommand*{\partheadstartvskip}{\vspace*{20em}}
\renewcommand*{\partheadendvskip}{}
%\noptcrule
\renewcommand\beforeparttoc{\noindent{\bfseries \Large Part \thepart: Contents}}
%\hspace{\fill}\rule{0.95\linewidth}{2pt}\hspace{\fill}
\doparttoc[n]

\pdfstringdefDisableCommands{\def\Spec{\text{Spec }}}

\makeatletter
\newcommand{\oset}[3][0ex]{%
  \mathrel{\mathop{#3}\limits^{
    \vbox to#1{\kern-2\ex@
    \hbox{$\scriptstyle#2$}\vss}}}}
\makeatother
